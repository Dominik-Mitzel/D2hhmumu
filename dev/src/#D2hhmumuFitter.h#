//class for the implemetation of 2D dm-mD0 fit for D2hhmumu decays
#include <iostream>
#include "sWeights.h"
#include <cmath>
#include <iostream>
#include <TChain.h>
#include <TTree.h>
#include <TH1D.h>
#include <TH2D.h>
#include <TF1.h>
#include <TFile.h>
#include <TCanvas.h>
#include <TLorentzVector.h>
#include <TROOT.h>
#include <TStyle.h>
#include <TFitResult.h>
#include <TLegend.h>
#include <TNtuple.h>
#include "TRandom3.h"
#include <sstream>
#include <RooDataSet.h>
#include "RooGaussModel.h"
#include "RooExponential.h"
#include "RooChebychev.h"
#include "RooAddModel.h"
#include "RooPolynomial.h"
#include "RooTruthModel.h"
#include "RooFitResult.h"
#include "RooDecay.h"
#include "RooPlot.h"
#include "RooGaussian.h"
#include "RooDstD0BG.h"
#include "RooCBShape.h"
#include "RooAddPdf.h"
#include "RooExtendPdf.h"
#include "RooDataHist.h"
#include "RooCBShape.h"
#include "RooCategory.h"
#include "RooFormulaVar.h"
#include "RooSimultaneous.h"
#include "RooHist.h"
#include "RooStats/SPlot.h"
#include "RooTreeDataStore.h"
#include "RooRealVar.h"
#include "RooDataSet.h"
#include "RooConstVar.h"
#include "RooGlobalFunc.h"
#include "Tools.h"

class D2hhmumuFitter {

 public:
  
  D2hhmumuFitter(TChain *tree=0);
  ~D2hhmumuFitter();
  
  void Init(TChain *tree);
  
  RooRealVar D0_M("Dst_DTF_D0_M", "m(h h #mu #mu)", 1820., 1940.,"MeV");
  RooRealVar delta_M;

  TChain* fChain;
  RooDataSet* data;
  RooDataSet* data_small;
  RooDataHist* data_binned;
  RooFitResult *result;

  //mD0 

  RooCBShape CB_mD_sig1;
  RooCBShape CB_mD_sig2;

  RooRealVar mean_CB_mD_sig1;
  RooRealVar mean_CB_mD_sig2;
  RooRealVar sigma_CB_mD_sig1;
  RooRealVar sigma_CB_mD_sig2;
  RooRealVar alpha_CB_mD_sig1;
  RooRealVar alpha_CB_mD_sig2;
  RooRealVar n_CB_mD_sig1;
  RooRealVar n_CB_mD_sig2;

  //deltaM 
  RooCBShape CB_dm_sig1;
  RooCBShape CB_dm_sig2;
  

  //void fitDeltaMass();
  //void fitD0mass();
  //void make2DFit();
  void fitD0massMC();
  
}

 

  
  

